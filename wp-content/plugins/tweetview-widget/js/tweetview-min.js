var twitter=new Object;twitter.parseText=function(a){var b=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;a=a.replace(b,'<a href="$1" target="_blank">$1</a>');var b=/\s?(#([A-Z0-9äöü]+))/ig;a=a.replace(b,' <a href="http://twitter.com/#!/search?q=%23$2" target="_blank">$1</a>');var b=/([@])([\w]+)/ig;return a.replace(b,'<a href="http://twitter.com/#!/$2" target="_blank">$1$2</a>')};String.prototype.delNofollow=function(){return this.replace(/ ?rel="nofollow"/ig,"")};twitter.calcTime=function(a){var b;var c=new Date;var d=a.substring(8,10);var e=a.substring(4,7);var f=a.substring(26,30);var g=a.substring(10,19);var h=d+" "+e+" "+f+" "+g+" +0000";var i=parseInt(Date.parse(h))/1e3;var j=Math.round(c.getTime()/1e3-i);if(j<60){b=j+(j>1?" "+localizing_tweetview_js.seconds:" "+localizing_tweetview_js.second)}else if(j<3600){b=Math.round(j/60);b+=b>1?" "+localizing_tweetview_js.minutes:" "+localizing_tweetview_js.minute}else if(j<86400){b=Math.round(j/3600);b+=b>1?" "+localizing_tweetview_js.hours:" "+localizing_tweetview_js.hour}else{b=Math.round(j/86400);b+=b>1?" "+localizing_tweetview_js.days:" "+localizing_tweetview_js.day}return b};twitter.load=function(a,b){jQuery.getJSON("http://twitter.com/status/user_timeline/"+a+".json?count="+b+"&callback=?",function(b){var c=document.getElementById("tweetview_tweetlist");c.innerHTML="";jQuery.each(b,function(b,d){if(d.created_at!=undefined){text=twitter.parseText(d.text);source=d.source.delNofollow();var e=document.createElement("li");e.setAttribute("class","tweet");c.appendChild(e);c.lastChild.innerHTML='<span class="talos-tweetview tweettext">'+text+'</span><br /><span class="talos-tweetview time-ago">'+localizing_tweetview_js.ago+' <a href="http://twitter.com/#!/'+a+"/status/"+d.id_str+'">'+twitter.calcTime(d.created_at)+"</a></span>"}})})}